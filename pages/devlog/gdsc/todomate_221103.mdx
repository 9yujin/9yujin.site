import { Comment, Img } from "components";

# \[6ì£¼ì°¨] todo mate ë¦¬ì•¡íŠ¸ í´ë¡  (2)

ì¤‘ê°„ê³ ì‚¬ ê¸°ê°„ ì˜ ë³´ë‚´ì…¨ë‚˜ìš”.. ì „ ëª»ë³´ëƒˆìŠµë‹ˆë‹¤. í‘í‘  
ë‹¤ìŒ í•™ê¸°ì—” ë¬´ì¡°ê±´ ê¸°ìˆ™ì‚¬ì— ë“¤ì–´ê°€ê² ë‹¤ëŠ” ìƒê°ì„ ë‹¤ì‹œ í•œë²ˆ í•´ë³´ë©´ì„œ, ì´ë²ˆì£¼ WILì„ ì ê³  ìˆìŠµë‹ˆë‹¤.

ì¤‘ê°„ íœ´ì‹ê¸°ê°„ë™ì•ˆ ì§œì˜ì§œì˜í•˜ê²Œ í”„ë¡œì íŠ¸ë¥¼ ê±´ë“œë ¤ë³´ì•˜ìŠµë‹ˆë‹¤.

## **1\. ì´ì „ì— ìˆì—ˆë˜, ë°”í…€ì‹œíŠ¸ ê´€ë ¨ ë¬¸ì œ**

ê° TodoItemë§ˆë‹¤ ìˆë˜ ë°”í…€ì‹œíŠ¸ë¥¼ ë” ìƒìœ„ë¡œ ì˜¬ë ¤ì„œ ê´€ë¦¬í•˜ë„ë¡ í–ˆë‹¤. ì´ì   ì–´ë–¤ íˆ¬ë‘ì—ì„œ ì—° ë°”í…€ì‹œíŠ¸ì¸ì§€ ë°”ë¡œ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, ì„ íƒëœ íˆ¬ë‘ë¥¼ ì „ì—­ìƒíƒœë¡œ ê´€ë¦¬í•˜ë„ë¡ í–ˆë‹¤.

```tsx filename="useBottomSheet.ts"
import { useRecoilState } from "recoil";
import { ITodoItem } from "../interfaces/ITodoItem";
import { bottomSheetState } from "../stores/bottomSheet";

function useBottomSheet(initial: boolean) {
  const [bottomSheet, setBottomSheet] = useRecoilState(bottomSheetState);
  const { isOpen, selectedItem } = bottomSheet;

  function onOpen(item: ITodoItem) {
    setBottomSheet({ selectedItem: item, isOpen: true });
  }
  function onDismiss() {
    setBottomSheet({ selectedItem: null, isOpen: false });
  }

  return { isOpen, selectedItem, onOpen, onDismiss };
}

export default useBottomSheet;
```

ì—´ë¦¼/ë‹«í˜ ìƒíƒœì™€ ì„ íƒëœ íˆ¬ë‘ë¥¼ ë¦¬ì½”ì¼ atomìœ¼ë¡œ ë§Œë“¤ì–´ ê´€ë¦¬í•œë‹¤. ê°„ë‹¨ê°„ë‹¨ì“°.

## **2\. Todo ê´€ë ¨ ë¡œì§ ì¶”ìƒí™”**

UIì»´í¬ë„ŒíŠ¸ì—ì„œ ìµœëŒ€í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë¶„ë¦¬í•˜ê³ , ì»¤ìŠ¤í…€í›…ì„ ì´ìš©í•´ ë„˜ê²¨ë°›ì•„ ì‚¬ìš©í•œë‹¤.  
ì €ë²ˆì£¼ ìŠ¤í„°ë”” ì‹œê°„ì— ë³´ì—¬ë“œë ¸ë˜ ë‚´ìš©ì´ì£ ??

```ts filename="useTodo.ts"
const useTodo = () => {
  const [todo, setTodo] = useRecoilState(todoState);

  const insertTodo = (inputValue: string, category: ICategory) => {
    if (inputValue) {
      const newTodo = {
        label: inputValue,
        id: uuid(),
        isDone: false,
        category: category,
      };
      setTodo((prev) => [...prev, newTodo]);
    }
  };

  const editTodo = (inputValue: string, id: string) => {
    if (inputValue) {
      const index = todo.findIndex((v) => v.id === id);
      const temp = [...todo];
      temp[index] = { ...temp[index], label: inputValue };
      setTodo(temp);
    }
  };

  const toggleTodo = (id: string) => {
    const index = todo.findIndex((v) => v.id === id);
    const temp = [...todo];
    temp[index] = { ...temp[index], isDone: !temp[index].isDone };
    setTodo(temp);
  };

  const deleteTodo = (id: string) => {
    setTodo(todo.filter((v) => v.id !== id));
  };

  return { insertTodo, editTodo, toggleTodo, deleteTodo };
};

export default useTodo;
```

íˆ¬ë‘ ì‚­ì œí•˜ê¸° ë“±ì˜ í•¨ìˆ˜ë¥¼ ì»¤ìŠ¤í…€í›…ì„ í†µí•´ ë°›ì•„ì˜¬ ìˆ˜ ìˆê³ , íˆ¬ë‘ ìƒíƒœ(ì‚­ì œí•  íˆ¬ë‘ì˜ id) ë˜í•œ ì „ì—­ìœ¼ë¡œ ê´€ë¦¬ë˜ê¸° ë•Œë¬¸ì— í”„ë¡œì íŠ¸ ì–´ë””ì—ì„œë¼ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. íˆ¬ë‘ ì»´í¬ë„ŒíŠ¸ì™€ ë–¨ì–´ì ¸ìˆëŠ” ë°”í…€ì‹œíŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°›ì•„ì™€ ì‚¬ìš©í•˜ê¸°ì— ì¢‹ë‹¤.

## **3\. ì¹œêµ¬ ëª©ë¡ (ë¬¸ìì—´ì—ì„œ ì´ëª¨ì§€ ë‹¤ë£¨ê¸°)**

<Img src="https://blog.kakaocdn.net/dn/bdLTbj/btrQb38n0Gt/wtiAzSk3K9GlpeKYZckEX1/img.gif" />

ë‚˜ë¦„ ê³ ë¯¼ì„ ë§ì´ í–ˆë‹¤.

```ts
const initialState: IFriend[] = [
  {
    userId: "user1",
    name: "ğŸ¬ê·œì§„",
    profileImage: "",
    statusMessage: "ì–´ì©Œë‹¤ ê°“ìƒ",
  },
  {
    userId: "user2",
    name: "ìœ ì§„",
    profileImage: "https://i.ibb.co/MgmDcz1/1021805078815985664.webp",
    statusMessage: "ì£¼ë‹ˆì–´ PMì´ ë˜ê¸° ìœ„í•œ ë…¸ë ¥",
  },
  {
    userId: "user3",
    name: "ê¹€í…ŒìŠ¤íŠ¸",
    profileImage: "",
    statusMessage: "user3",
  },
];
```

ì¹œêµ¬ ê°ì²´ëŠ” ì´ëŸ° í˜•ì‹ì´ë‹¤. í”„ë¡œí•„ ì´ë¯¸ì§€ ë¶€ë¶„ì—ì„œ ì‹œê°„ì„ ë§ì´ ì¼ë‹¤.  
í”„ë¡œí•„ì´ë¯¸ì§€ê°€ ìˆì„ ë•ŒëŠ” í•´ë‹¹ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì™€ ë°±ê·¸ë¼ìš´ë“œë¡œ ë³´ì—¬ì£¼ê³ , ì—†ì„ë•ŒëŠ” ì´ë¦„ì˜ ì²«ê¸€ìë¥¼ ë³´ì—¬ì¤€ë‹¤.

```tsx filename="FriendsIcon.tsx"
const ProfileImage = styled.div<{ friend: IFriend; selected: boolean }>`
  position: relative;
  width: 40px;
  height: 40px;
  border-radius: 50px;
  background-color: ${({ theme }) => theme.palette.mono.gray_f5};
  ${({ friend }) => getImageStyle(friend)}
  border: ${({ selected, theme }) =>
    selected && `2px solid ${theme.palette.mono.gray_44}`}
`;

const getImageStyle = (friend: IFriend) => {
  switch (friend.profileImage.length) {
    case 0:
      return css`
        ::after {
          content: "${sliceFirstWord(friend.name)}";
          position: absolute;
          left: 50%;
          top: 50%;
          transform: translate3d(-50%, -50%, 0);
          font-weight: 500;
        }
      `;
    default:
      return css`
        background-image: url(${friend.profileImage});
        background-size: 40px 40px;
        background-position: center;
      `;
  }
};
```

í”„ë¡œí•„ ì´ë¯¸ì§€ì— ê´€í•œ ë¶€ë¶„ë§Œ ë”°ë¡œ ë¹¼ì„œ ë„£ì–´ì£¼ì—ˆë‹¤. ì´ë¦„ì˜ ì²«ê¸€ìë¥¼ ë³´ì—¬ì¤„ ë•ŒëŠ” after ê°€ìƒ ì„ íƒìë¥¼ ì´ìš©í•œë‹¤.

<Img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbHy9UG%2FbtrQetlcsjU%2FcrSdPO7kF5jWkkeKrGLsBk%2Fimg.png" />

ì´ ê³¼ì •ì—ì„œ ë¬¸ì œê°€ í•˜ë‚˜ ìˆì—ˆë‹¤. íˆ¬ë‘ë©”ì´íŠ¸ì— ì´ë¦„ì˜ ì²«ê¸€ìë¡œ ì´ëª¨ì§€ë¥¼ ì“°ëŠ” ê²½ìš°ê°€ ë§ì€ë°, í”„ë¡œí•„ ì´ë¯¸ì§€ì— ì´ëª¨ì§€ê°€ ë“¤ì–´ê°€ë©´ ê½¤ ì´ì˜ë‹¤. ë¬´ì‘ì • ë¬¸ìì—´ì˜ ì²«ë²ˆì§¸ ì¸ë±ìŠ¤ë¥¼ ê°€ì ¸ì˜¤ë‹ˆê¹Œ ì´ëª¨ì§€ê°€ ê¹¨ì¡Œë‹¤. ì´ëª¨ì§€ëŠ” ìœ ë‹ˆì½”ë“œë¥¼ ì“°ëŠ”ë°, ë¬¸ìì—´ë¡œ ì²˜ë¦¬ë ë•Œ ê¸¸ì´ê°€ ë§‰ 2,3 ì´ë ‡ê²Œ ë‚˜ì˜¤ë”ë¼.

```ts filename="sliceFirstWord.ts"
const sliceFirstWord = (string: string) => {
  // https://avengersrhydon1121.tistory.com/268
  if (
    /^([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/.test(
      string
    )
  ) {
    return string.slice(0, 2);
  } else {
    return string[0];
  }
};
```

ë°›ì€ ë¬¸ìì—´ì´ ì´ëª¨ì§€ë¡œ ì‹œì‘í•˜ë©´ 0,1 ì¸ë±ìŠ¤ë¥¼ ë¦¬í„´í•˜ê³ , ì•„ë‹ˆë©´ 0ë²ˆì§¸ ì¸ë±ìŠ¤ë§Œ ë¦¬í„´í•˜ë„ë¡ í–ˆë‹¤. ì •ê·œì‹ì„ ì‚¬ìš©í–ˆëŠ”ë°, /^ / ë¥¼ í†µí•´ ì–´ë– í•œ ë¬¸ìë¡œ ì‹œì‘í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆë‹¤.

<Img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbrkrrW%2FbtrQeCvoHjo%2FHxDcHRn7mioB2M5T190JtK%2Fimg.png" />

<Comment />
